(function(e,t){'object'==typeof exports&&'object'==typeof module?module.exports=t():'function'==typeof define&&define.amd?define([],t):'object'==typeof exports?exports.Hamoni=t():e.Hamoni=t()})(this,function(){var e=Math.floor,t=String.fromCharCode;return function(e){function t(r){if(o[r])return o[r].exports;var n=o[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var o={};return t.m=e,t.c=o,t.d=function(e,o,r){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var o=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(o,'a',o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=23)}([function(e){var t=function(){return this}();try{t=t||Function('return this')()||(1,eval)('this')}catch(o){'object'==typeof window&&(t=window)}e.exports=t},function(e){e.exports=function(){return function(){}}},function(e){function t(e){if(e)return o(e)}function o(e){for(var o in t.prototype)e[o]=t.prototype[o];return e}e.exports=t;t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks['$'+e]=this._callbacks['$'+e]||[]).push(t),this},t.prototype.once=function(e,t){function o(){this.off(e,o),t.apply(this,arguments)}return o.fn=t,this.on(e,o),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var o=this._callbacks['$'+e];if(!o)return this;if(1==arguments.length)return delete this._callbacks['$'+e],this;for(var r,n=0;n<o.length;n++)if(r=o[n],r===t||r.fn===t){o.splice(n,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),o=this._callbacks['$'+e];if(o){o=o.slice(0);for(var r=0,n=o.length;r<n;++r)o[r].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks['$'+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,o,r){(function(e){function n(e,t){var r='b'+o.packets[e.type]+e.data.data;return t(r)}function a(e,t,r){if(!t)return o.encodeBase64Packet(e,r);var n=e.data,a=new Uint8Array(n),s=new Uint8Array(1+n.byteLength);s[0]=k[e.type];for(var p=0;p<a.length;p++)s[p+1]=a[p];return r(s.buffer)}function s(e,t,r){if(!t)return o.encodeBase64Packet(e,r);var n=new FileReader;return n.onload=function(){e.data=n.result,o.encodePacket(e,t,!0,r)},n.readAsArrayBuffer(e.data)}function p(e,t,r){if(!t)return o.encodeBase64Packet(e,r);if(b)return s(e,t,r);var n=new Uint8Array(1);n[0]=k[e.type];var a=new T([n.buffer,e.data]);return r(a)}function i(e){try{e=h.decode(e,{strict:!1})}catch(t){return!1}return e}function d(e,t,o){for(var r=Array(e.length),n=f(e.length,o),a=function(e,o,n){t(o,function(t,o){r[e]=o,n(t,r)})},s=0;s<e.length;s++)a(s,e[s],n)}var c,l=r(31),u=r(10),y=r(32),f=r(33),h=r(34);e&&e.ArrayBuffer&&(c=r(36));var m='undefined'!=typeof navigator&&/Android/i.test(navigator.userAgent),g='undefined'!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),b=m||g;o.protocol=3;var k=o.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},x=l(k),_={type:'error',data:'parser error'},T=r(37);o.encodePacket=function(t,o,r,s){'function'==typeof o&&(s=o,o=!1),'function'==typeof r&&(s=r,r=null);var i=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&i instanceof ArrayBuffer)return a(t,o,s);if(T&&i instanceof e.Blob)return p(t,o,s);if(i&&i.base64)return n(t,s);var d=k[t.type];return void 0!==t.data&&(d+=r?h.encode(t.data+'',{strict:!1}):t.data+''),s(''+d)},o.encodeBase64Packet=function(r,n){var a='b'+o.packets[r.type];if(T&&r.data instanceof e.Blob){var s=new FileReader;return s.onload=function(){var e=s.result.split(',')[1];n(a+e)},s.readAsDataURL(r.data)}var p;try{p=t.apply(null,new Uint8Array(r.data))}catch(o){for(var d=new Uint8Array(r.data),c=Array(d.length),l=0;l<d.length;l++)c[l]=d[l];p=t.apply(null,c)}return a+=e.btoa(p),n(a)},o.decodePacket=function(e,t,r){if(void 0===e)return _;if('string'==typeof e){if('b'===e.charAt(0))return o.decodeBase64Packet(e.substr(1),t);if(r&&(e=i(e),!1===e))return _;var n=e.charAt(0);return+n==n&&x[n]?1<e.length?{type:x[n],data:e.substring(1)}:{type:x[n]}:_}var a=new Uint8Array(e),n=a[0],s=y(e,1);return T&&'blob'===t&&(s=new T([s])),{type:x[n],data:s}},o.decodeBase64Packet=function(e,t){var o=x[e.charAt(0)];if(!c)return{type:o,data:{base64:!0,data:e.substr(1)}};var r=c.decode(e.substr(1));return'blob'===t&&T&&(r=new T([r])),{type:o,data:r}},o.encodePayload=function(e,t,r){function n(e){return e.length+':'+e}'function'==typeof t&&(r=t,t=null);var a=u(e);return t&&a?T&&!b?o.encodePayloadAsBlob(e,r):o.encodePayloadAsArrayBuffer(e,r):e.length?void d(e,function(e,r){o.encodePacket(e,!!a&&t,!1,function(e){r(null,n(e))})},function(e,t){return r(t.join(''))}):r('0:')},o.decodePayload=function(e,t,r){if('string'!=typeof e)return o.decodePayloadAsBinary(e,t,r);'function'==typeof t&&(r=t,t=null);var a;if(''===e)return r(_,0,1);for(var s,n,p,d='',c=0,i=e.length;c<i;c++){if(p=e.charAt(c),':'!==p){d+=p;continue}if(''===d||d!=(s=+d))return r(_,0,1);if(n=e.substr(c+1,s),d!=n.length)return r(_,0,1);if(n.length){if(a=o.decodePacket(n,t,!1),_.type===a.type&&_.data===a.data)return r(_,0,1);var l=r(a,c+s,i);if(!1===l)return}c+=s,d=''}if(''!==d)return r(_,0,1)},o.encodePayloadAsArrayBuffer=function(e,t){return e.length?void d(e,function(e,t){o.encodePacket(e,!0,!0,function(e){return t(null,e)})},function(e,o){var r=o.reduce(function(e,t){var o;return o='string'==typeof t?t.length:t.byteLength,e+o.toString().length+o+2},0),n=new Uint8Array(r),a=0;return o.forEach(function(e){var t='string'==typeof e,o=e;if(t){for(var r=new Uint8Array(e.length),s=0;s<e.length;s++)r[s]=e.charCodeAt(s);o=r.buffer}n[a++]=t?0:1;for(var i=o.byteLength.toString(),s=0;s<i.length;s++)n[a++]=parseInt(i[s]);n[a++]=255;for(var r=new Uint8Array(o),s=0;s<r.length;s++)n[a++]=r[s]}),t(n.buffer)}):t(new ArrayBuffer(0))},o.encodePayloadAsBlob=function(e,t){d(e,function(e,t){o.encodePacket(e,!0,!0,function(e){var o=new Uint8Array(1);if(o[0]=1,'string'==typeof e){for(var r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);e=r.buffer,o[0]=0}for(var a=e instanceof ArrayBuffer?e.byteLength:e.size,s=a.toString(),p=new Uint8Array(s.length+1),n=0;n<s.length;n++)p[n]=parseInt(s[n]);if(p[s.length]=255,T){var i=new T([o.buffer,p.buffer,e]);t(null,i)}})},function(e,o){return t(new T(o))})},o.decodePayloadAsBinary=function(e,r,n){'function'==typeof r&&(n=r,r=null);for(var a=e,s=[];0<a.byteLength;){for(var p=new Uint8Array(a),d=0===p[0],c='',l=1;;l++){if(255===p[l])break;if(310<c.length)return n(_,0,1);c+=p[l]}a=y(a,2+c.length),c=parseInt(c);var i=y(a,0,c);if(d)try{i=t.apply(null,new Uint8Array(i))}catch(o){var u=new Uint8Array(i);i='';for(var l=0;l<u.length;l++)i+=t(u[l])}s.push(i),a=y(a,c)}var f=s.length;s.forEach(function(e,t){n(o.decodePacket(e,r,!0),t,f)})}}).call(o,r(0))},function(e,t){t.encode=function(e){var t='';for(var o in e)e.hasOwnProperty(o)&&(t.length&&(t+='&'),t+=encodeURIComponent(o)+'='+encodeURIComponent(e[o]));return t},t.decode=function(e){for(var t,o={},r=e.split('&'),n=0,a=r.length;n<a;n++)t=r[n].split('='),o[decodeURIComponent(t[0])]=decodeURIComponent(t[1]);return o}},function(e){e.exports=function(e,t){var o=function(){};o.prototype=t.prototype,e.prototype=new o,e.prototype.constructor=e}},function(e,t,o){function r(){}function n(e){var o=''+e.type;return(t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)&&(o+=e.attachments+'-'),e.nsp&&'/'!==e.nsp&&(o+=e.nsp+','),null!=e.id&&(o+=e.id),null!=e.data&&(o+=JSON.stringify(e.data)),o}function a(e,t){f.removeBlobs(e,function(e){var o=f.deconstructPacket(e),r=n(o.packet),a=o.buffers;a.unshift(r),t(a)})}function s(){this.reconstructor=null}function p(e){var o=0,r={type:+e.charAt(0)};if(null==t.types[r.type])return l();if(t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type){for(var n='';'-'!==e.charAt(++o)&&(n+=e.charAt(o),o!=e.length););if(n!=+n||'-'!==e.charAt(o))throw new Error('Illegal attachments');r.attachments=+n}if('/'===e.charAt(o+1))for(r.nsp='';++o;){var a=e.charAt(o);if(','===a)break;if(r.nsp+=a,o===e.length)break}else r.nsp='/';var s=e.charAt(o+1);if(''!==s&&+s==s){for(r.id='';++o;){var a=e.charAt(o);if(null==a||+a!=a){--o;break}if(r.id+=e.charAt(o),o===e.length)break}r.id=+r.id}return e.charAt(++o)&&(r=d(r,e.substr(o))),r}function d(e,t){try{e.data=JSON.parse(t)}catch(t){return l()}return e}function i(e){this.reconPack=e,this.buffers=[]}function l(){return{type:t.ERROR,data:'parser error'}}var c=o(1)('socket.io-parser'),u=o(2),y=o(10),f=o(26),h=o(12);t.protocol=4,t.types=['CONNECT','DISCONNECT','EVENT','ACK','ERROR','BINARY_EVENT','BINARY_ACK'],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=r,t.Decoder=s,r.prototype.encode=function(e,o){if((e.type===t.EVENT||e.type===t.ACK)&&y(e.data)&&(e.type=e.type===t.EVENT?t.BINARY_EVENT:t.BINARY_ACK),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)a(e,o);else{var r=n(e);o([r])}},u(s.prototype),s.prototype.add=function(e){var o;if('string'==typeof e)o=p(e),t.BINARY_EVENT===o.type||t.BINARY_ACK===o.type?(this.reconstructor=new i(o),0===this.reconstructor.reconPack.attachments&&this.emit('decoded',o)):this.emit('decoded',o);else if(!(h(e)||e.base64))throw new Error('Unknown type: '+e);else if(!this.reconstructor)throw new Error('got binary data when not reconstructing a packet');else o=this.reconstructor.takeBinaryData(e),o&&(this.reconstructor=null,this.emit('decoded',o))},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},i.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=f.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},i.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,o){(function(t){var r=o(29);e.exports=function(e){var o=e.xdomain,n=e.xscheme,a=e.enablesXDR;try{if('undefined'!=typeof XMLHttpRequest&&(!o||r))return new XMLHttpRequest}catch(t){}try{if('undefined'!=typeof XDomainRequest&&!n&&a)return new XDomainRequest}catch(t){}if(!o)try{return new t[['Active'].concat('Object').join('X')]('Microsoft.XMLHTTP')}catch(t){}}}).call(t,o(0))},function(e,t,o){function r(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState='',this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}var n=o(3),a=o(2);e.exports=r,a(r.prototype),r.prototype.onError=function(e,t){var o=new Error(e);return o.type='TransportError',o.description=t,this.emit('error',o),this},r.prototype.open=function(){return('closed'===this.readyState||''===this.readyState)&&(this.readyState='opening',this.doOpen()),this},r.prototype.close=function(){return('opening'===this.readyState||'open'===this.readyState)&&(this.doClose(),this.onClose()),this},r.prototype.send=function(e){if('open'===this.readyState)this.write(e);else throw new Error('Transport not open')},r.prototype.onOpen=function(){this.readyState='open',this.writable=!0,this.emit('open')},r.prototype.onData=function(e){var t=n.decodePacket(e,this.socket.binaryType);this.onPacket(t)},r.prototype.onPacket=function(e){this.emit('packet',e)},r.prototype.onClose=function(){this.readyState='closed',this.emit('close')}},function(e){var t=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=['source','protocol','authority','userInfo','user','password','host','port','relative','path','directory','file','query','anchor'];e.exports=function(r){var n=r,a=r.indexOf('['),s=r.indexOf(']');-1!=a&&-1!=s&&(r=r.substring(0,a)+r.substring(a,s).replace(/:/g,';')+r.substring(s,r.length));for(var e=t.exec(r||''),p={},d=14;d--;)p[o[d]]=e[d]||'';return-1!=a&&-1!=s&&(p.source=n,p.host=p.host.substring(1,p.host.length-1).replace(/;/g,':'),p.authority=p.authority.replace('[','').replace(']','').replace(/;/g,':'),p.ipv6uri=!0),p}},function(e,t,o){(function(t){function r(e){if(!e||'object'!=typeof e)return!1;if(n(e)){for(var o=0,a=e.length;o<a;o++)if(r(e[o]))return!0;return!1}if('function'==typeof t.Buffer&&t.Buffer.isBuffer&&t.Buffer.isBuffer(e)||'function'==typeof t.ArrayBuffer&&e instanceof ArrayBuffer||s&&e instanceof Blob||p&&e instanceof File)return!0;if(e.toJSON&&'function'==typeof e.toJSON&&1===arguments.length)return r(e.toJSON(),!0);for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&r(e[i]))return!0;return!1}var n=o(11),a=Object.prototype.toString,s='function'==typeof t.Blob||'[object BlobConstructor]'===a.call(t.Blob),p='function'==typeof t.File||'[object FileConstructor]'===a.call(t.File);e.exports=r}).call(t,o(0))},function(e){var t={}.toString;e.exports=Array.isArray||function(e){return'[object Array]'==t.call(e)}},function(e,t,o){(function(t){e.exports=function(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}}).call(t,o(0))},function(e,t,o){function r(e,t){if(!(this instanceof r))return new r(e,t);e&&'object'==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||'/socket.io',this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||Infinity),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||0.5),this.backoff=new u({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState='closed',this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var o=t.parser||p;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}var n=o(27),a=o(18),s=o(2),p=o(6),i=o(19),d=o(20),c=o(1)('socket.io-client:manager'),l=o(17),u=o(42),y=Object.prototype.hasOwnProperty;e.exports=r,r.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)y.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},r.prototype.updateSocketIds=function(){for(var e in this.nsps)y.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},r.prototype.generateId=function(e){return('/'===e?'':e+'#')+this.engine.id},s(r.prototype),r.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},r.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},r.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(e){if(~this.readyState.indexOf('open'))return this;this.engine=n(this.uri,this.opts);var t=this.engine,o=this;this.readyState='opening',this.skipReconnect=!1;var r=i(t,'open',function(){o.onopen(),e&&e()}),a=i(t,'error',function(t){if(o.cleanup(),o.readyState='closed',o.emitAll('connect_error',t),e){var r=new Error('Connection error');r.data=t,e(r)}else o.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout,p=setTimeout(function(){r.destroy(),t.close(),t.emit('error','timeout'),o.emitAll('connect_timeout',s)},s);this.subs.push({destroy:function(){clearTimeout(p)}})}return this.subs.push(r),this.subs.push(a),this},r.prototype.onopen=function(){this.cleanup(),this.readyState='open',this.emit('open');var e=this.engine;this.subs.push(i(e,'data',d(this,'ondata'))),this.subs.push(i(e,'ping',d(this,'onping'))),this.subs.push(i(e,'pong',d(this,'onpong'))),this.subs.push(i(e,'error',d(this,'onerror'))),this.subs.push(i(e,'close',d(this,'onclose'))),this.subs.push(i(this.decoder,'decoded',d(this,'ondecoded')))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll('ping')},r.prototype.onpong=function(){this.emitAll('pong',new Date-this.lastPing)},r.prototype.ondata=function(e){this.decoder.add(e)},r.prototype.ondecoded=function(e){this.emit('packet',e)},r.prototype.onerror=function(e){this.emitAll('error',e)},r.prototype.socket=function(e,t){function o(){~l(n.connecting,r)||n.connecting.push(r)}var r=this.nsps[e];if(!r){r=new a(this,e,t),this.nsps[e]=r;var n=this;r.on('connecting',o),r.on('connect',function(){r.id=n.generateId(e)}),this.autoConnect&&o()}return r},r.prototype.destroy=function(e){var t=l(this.connecting,e);~t&&this.connecting.splice(t,1);this.connecting.length||this.close()},r.prototype.packet=function(e){var t=this;e.query&&0===e.type&&(e.nsp+='?'+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(o){for(var r=0;r<o.length;r++)t.engine.write(o[r],e.options);t.encoding=!1,t.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},r.prototype.cleanup=function(){for(var e,t=this.subs.length,o=0;o<t;o++)e=this.subs.shift(),e.destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){this.skipReconnect=!0,this.reconnecting=!1,'opening'===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState='closed',this.engine&&this.engine.close()},r.prototype.onclose=function(e){this.cleanup(),this.backoff.reset(),this.readyState='closed',this.emit('close',e),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitAll('reconnect_failed'),this.reconnecting=!1;else{var t=this.backoff.duration();this.reconnecting=!0;var o=setTimeout(function(){e.skipReconnect||(e.emitAll('reconnect_attempt',e.backoff.attempts),e.emitAll('reconnecting',e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(e.reconnecting=!1,e.reconnect(),e.emitAll('reconnect_error',t.data)):e.onreconnect()}))},t);this.subs.push({destroy:function(){clearTimeout(o)}})}},r.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll('reconnect',e)}},function(e,t,o){(function(e){var r=o(7),n=o(30),a=o(38),s=o(39);t.polling=function(t){var o,s=!1,p=!1,i=!1!==t.jsonp;if(e.location){var d='https:'===location.protocol,c=location.port;c||(c=d?443:80),s=t.hostname!==location.hostname||c!==t.port,p=t.secure!==d}if(t.xdomain=s,t.xscheme=p,o=new r(t),'open'in o&&!t.forceJSONP)return new n(t);if(!i)throw new Error('JSONP disabled');return new a(t)},t.websocket=s}).call(t,o(0))},function(e,t,o){function r(e){var t=e&&e.forceBase64;(!c||t)&&(this.supportsBinary=!1),n.call(this,e)}var n=o(8),a=o(4),s=o(3),p=o(5),i=o(16),d=o(1)('engine.io-client:polling');e.exports=r;var c=function(){var e=o(7),t=new e({xdomain:!1});return null!=t.responseType}();p(r,n),r.prototype.name='polling',r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(e){function t(){o.readyState='paused',e()}var o=this;if(this.readyState='pausing',this.polling||!this.writable){var r=0;this.polling&&(r++,this.once('pollComplete',function(){--r||t()})),this.writable||(r++,this.once('drain',function(){--r||t()}))}else t()},r.prototype.poll=function(){this.polling=!0,this.doPoll(),this.emit('poll')},r.prototype.onData=function(e){var t=this;s.decodePayload(e,this.socket.binaryType,function(e){return'opening'===t.readyState&&t.onOpen(),'close'===e.type?(t.onClose(),!1):void t.onPacket(e)}),'closed'!==this.readyState&&(this.polling=!1,this.emit('pollComplete'),'open'===this.readyState&&this.poll())},r.prototype.doClose=function(){function e(){t.write([{type:'close'}])}var t=this;'open'===this.readyState?e():this.once('open',e)},r.prototype.write=function(e){var t=this;this.writable=!1;var o=function(){t.writable=!0,t.emit('drain')};s.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,o)})},r.prototype.uri=function(){var e=this.query||{},t=this.secure?'https':'http',o='';!1!==this.timestampRequests&&(e[this.timestampParam]=i()),this.supportsBinary||e.sid||(e.b64=1),e=a.encode(e),this.port&&('https'==t&&443!==+this.port||'http'==t&&80!==+this.port)&&(o=':'+this.port),e.length&&(e='?'+e);var r=-1!==this.hostname.indexOf(':');return t+'://'+(r?'['+this.hostname+']':this.hostname)+o+this.path+e}},function(t){'use strict';function o(t){var o='';do o=a[t%s]+o,t=e(t/s);while(0<t);return o}function r(){var e=o(+new Date);return e===n?e+'.'+o(d++):(d=0,n=e)}for(var n,a=['0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','-','_'],s=64,p={},d=0,c=0;c<s;c++)p[a[c]]=c;r.encode=o,r.decode=function(e){var t=0;for(c=0;c<e.length;c++)t=t*s+p[e.charAt(c)];return t},t.exports=r},function(e){var t=[].indexOf;e.exports=function(e,o){if(t)return e.indexOf(o);for(var r=0;r<e.length;++r)if(e[r]===o)return r;return-1}},function(e,t,o){function r(e,t,o){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,o&&o.query&&(this.query=o.query),this.io.autoConnect&&this.open()}var n=o(6),a=o(2),s=o(41),p=o(19),i=o(20),d=o(1)('socket.io-client:socket'),c=o(4);e.exports=t=r;var l={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},u=a.prototype.emit;a(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[p(e,'open',i(this,'onopen')),p(e,'packet',i(this,'onpacket')),p(e,'close',i(this,'onclose'))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),'open'===this.io.readyState&&this.onopen(),this.emit('connecting'),this)},r.prototype.send=function(){var e=s(arguments);return e.unshift('message'),this.emit.apply(this,e),this},r.prototype.emit=function(e){if(l.hasOwnProperty(e))return u.apply(this,arguments),this;var t=s(arguments),o={type:n.EVENT,data:t};return o.options={},o.options.compress=!this.flags||!1!==this.flags.compress,'function'==typeof t[t.length-1]&&(this.acks[this.ids]=t.pop(),o.id=this.ids++),this.connected?this.packet(o):this.sendBuffer.push(o),delete this.flags,this},r.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},r.prototype.onopen=function(){if('/'!==this.nsp)if(this.query){var e='object'==typeof this.query?c.encode(this.query):this.query;this.packet({type:n.CONNECT,query:e})}else this.packet({type:n.CONNECT})},r.prototype.onclose=function(e){this.connected=!1,this.disconnected=!0,delete this.id,this.emit('disconnect',e)},r.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case n.CONNECT:this.onconnect();break;case n.EVENT:this.onevent(e);break;case n.BINARY_EVENT:this.onevent(e);break;case n.ACK:this.onack(e);break;case n.BINARY_ACK:this.onack(e);break;case n.DISCONNECT:this.ondisconnect();break;case n.ERROR:this.emit('error',e.data);}},r.prototype.onevent=function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?u.apply(this,t):this.receiveBuffer.push(t)},r.prototype.ack=function(e){var t=this,o=!1;return function(){if(!o){o=!0;var r=s(arguments);t.packet({type:n.ACK,id:e,data:r})}}},r.prototype.onack=function(e){var t=this.acks[e.id];'function'==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit('connect'),this.emitBuffered()},r.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)u.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){this.destroy(),this.onclose('io server disconnect')},r.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&this.packet({type:n.DISCONNECT}),this.destroy(),this.connected&&this.onclose('io client disconnect'),this},r.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},function(e){e.exports=function(e,t,o){return e.on(t,o),{destroy:function(){e.removeListener(t,o)}}}},function(e){var t=[].slice;e.exports=function(e,o){if('string'==typeof o&&(o=e[o]),'function'!=typeof o)throw new Error('bind() requires a function');var r=t.call(arguments,2);return function(){return o.apply(e,r.concat(t.call(arguments)))}}},function(e,t,o){function r(){}function n(e){if(!h(e))return e;var t=[];for(var o in e)a(t,o,e[o]);return t.join('&')}function a(e,t,o){if(!(null!=o))null===o&&e.push(encodeURIComponent(t));else if(Array.isArray(o))o.forEach(function(o){a(e,t,o)});else if(h(o))for(var r in o)a(e,t+'['+r+']',o[r]);else e.push(encodeURIComponent(t)+'='+encodeURIComponent(o))}function s(e){for(var t,o,r={},n=e.split('&'),a=0,s=n.length;a<s;++a)t=n[a],o=t.indexOf('='),-1==o?r[decodeURIComponent(t)]='':r[decodeURIComponent(t.slice(0,o))]=decodeURIComponent(t.slice(o+1));return r}function p(e){for(var t,o,r,n,a=e.split(/\r?\n/),s={},p=0,i=a.length;p<i;++p)(o=a[p],t=o.indexOf(':'),-1!==t)&&(r=o.slice(0,t).toLowerCase(),n=k(o.slice(t+1)),s[r]=n);return s}function i(e){return /[\/+]json\b/.test(e)}function d(e){this.req=e,this.xhr=this.req.xhr,this.text='HEAD'!=this.req.method&&(''===this.xhr.responseType||'text'===this.xhr.responseType)||'undefined'==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=p(this.xhr.getAllResponseHeaders()),this.header['content-type']=this.xhr.getResponseHeader('content-type'),this._setHeaderProperties(this.header),this.body=null===this.text&&e._responseType?this.xhr.response:'HEAD'==this.req.method?null:this._parseBody(this.text?this.text:this.xhr.response)}function c(e,t){var o=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on('end',function(){var t=null,e=null;try{e=new d(o)}catch(r){return t=new Error('Parser is unable to parse the response'),t.parse=!0,t.original=r,o.xhr?(t.rawResponse='undefined'==typeof o.xhr.responseType?o.xhr.responseText:o.xhr.response,t.status=o.xhr.status?o.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),o.callback(t)}o.emit('response',e);var r;try{o._isResponseOK(e)||(r=new Error(e.statusText||'Unsuccessful HTTP response'))}catch(e){r=e}r?(r.original=t,r.response=e,r.status=e.status,o.callback(r,e)):o.callback(null,e)})}function l(e,t,o){var r=b('DELETE',e);return'function'==typeof t&&(o=t,t=null),t&&r.send(t),o&&r.end(o),r}var u;'undefined'==typeof window?'undefined'==typeof self?(console.warn('Using browser-only version of superagent in non-browser environment'),u=this):u=self:u=window;var y=o(2),f=o(43),h=o(22),m=o(44),g=o(46);var b=t=e.exports=function(e,o){return'function'==typeof o?new t.Request('GET',e).end(o):1==arguments.length?new t.Request('GET',e):new t.Request(e,o)};t.Request=c,b.getXHR=function(){if(u.XMLHttpRequest&&(!u.location||'file:'!=u.location.protocol||!u.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject('Microsoft.XMLHTTP')}catch(t){}try{return new ActiveXObject('Msxml2.XMLHTTP.6.0')}catch(t){}try{return new ActiveXObject('Msxml2.XMLHTTP.3.0')}catch(t){}try{return new ActiveXObject('Msxml2.XMLHTTP')}catch(t){}throw Error('Browser-only version of superagent could not find XHR')};var k=function(e){return e.trim()};b.serializeObject=n,b.parseString=s,b.types={html:'text/html',json:'application/json',xml:'text/xml',urlencoded:'application/x-www-form-urlencoded',form:'application/x-www-form-urlencoded',"form-data":'application/x-www-form-urlencoded'},b.serialize={"application/x-www-form-urlencoded":n,"application/json":JSON.stringify},b.parse={"application/x-www-form-urlencoded":s,"application/json":JSON.parse},m(d.prototype),d.prototype._parseBody=function(e){var t=b.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&i(this.type)&&(t=b.parse['application/json']),t&&e&&(e.length||e instanceof Object)?t(e):null)},d.prototype.toError=function(){var e=this.req,t=e.method,o=e.url,r='cannot '+t+' '+o+' ('+this.status+')',n=new Error(r);return n.status=this.status,n.method=t,n.url=o,n},b.Response=d,y(c.prototype),f(c.prototype),c.prototype.type=function(e){return this.set('Content-Type',b.types[e]||e),this},c.prototype.accept=function(e){return this.set('Accept',b.types[e]||e),this},c.prototype.auth=function(e,t,o){1===arguments.length&&(t=''),'object'==typeof t&&null!==t&&(o=t,t=''),o||(o={type:'function'==typeof btoa?'basic':'auto'});return this._auth(e,t,o,function(e){if('function'==typeof btoa)return btoa(e);throw new Error('Cannot use basic auth, btoa is not a function')})},c.prototype.query=function(e){return'string'!=typeof e&&(e=n(e)),e&&this._query.push(e),this},c.prototype.attach=function(e,t,o){if(t){if(this._data)throw Error('superagent can\'t mix .send() and .attach()');this._getFormData().append(e,t,o||t.name)}return this},c.prototype._getFormData=function(){return this._formData||(this._formData=new u.FormData),this._formData},c.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var o=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit('error',e)),o(e,t)},c.prototype.crossDomainError=function(){var e=new Error('Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.');e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},c.prototype.buffer=c.prototype.ca=c.prototype.agent=function(){return console.warn('This is not supported in browser version of superagent'),this},c.prototype.pipe=c.prototype.write=function(){throw Error('Streaming is not supported in browser version of superagent')},c.prototype._isHost=function(e){return e&&'object'==typeof e&&!Array.isArray(e)&&'[object Object]'!==Object.prototype.toString.call(e)},c.prototype.end=function(e){return this._endCalled&&console.warn('Warning: .end() was called twice. This is not supported in superagent'),this._endCalled=!0,this._callback=e||r,this._finalizeQueryString(),this._end()},c.prototype._end=function(){var t=this,e=this.xhr=b.getXHR(),o=this._formData||this._data;this._setTimeouts(),e.onreadystatechange=function(){var o=e.readyState;if(2<=o&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4==o){var r;try{r=e.status}catch(t){r=0}return r?void t.emit('end'):t.timedout||t._aborted?void 0:t.crossDomainError()}};var r=function(o,r){0<r.total&&(r.percent=100*(r.loaded/r.total)),r.direction=o,t.emit('progress',r)};if(this.hasListeners('progress'))try{e.onprogress=r.bind(null,'download'),e.upload&&(e.upload.onprogress=r.bind(null,'upload'))}catch(t){}try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&'GET'!=this.method&&'HEAD'!=this.method&&'string'!=typeof o&&!this._isHost(o)){var n=this._header['content-type'],a=this._serializer||b.serialize[n?n.split(';')[0]:''];!a&&i(n)&&(a=b.serialize['application/json']),a&&(o=a(o))}for(var s in this.header)null!=this.header[s]&&this.header.hasOwnProperty(s)&&e.setRequestHeader(s,this.header[s]);return this._responseType&&(e.responseType=this._responseType),this.emit('request',this),e.send('undefined'==typeof o?null:o),this},b.agent=function(){return new g},['GET','POST','OPTIONS','PATCH','PUT','DELETE'].forEach(function(e){g.prototype[e.toLowerCase()]=function(t,o){var r=new b.Request(e,t);return this._setDefaults(r),o&&r.end(o),r}}),g.prototype.del=g.prototype['delete'],b.get=function(e,t,o){var r=b('GET',e);return'function'==typeof t&&(o=t,t=null),t&&r.query(t),o&&r.end(o),r},b.head=function(e,t,o){var r=b('HEAD',e);return'function'==typeof t&&(o=t,t=null),t&&r.query(t),o&&r.end(o),r},b.options=function(e,t,o){var r=b('OPTIONS',e);return'function'==typeof t&&(o=t,t=null),t&&r.send(t),o&&r.end(o),r},b.del=l,b['delete']=l,b.patch=function(e,t,o){var r=b('PATCH',e);return'function'==typeof t&&(o=t,t=null),t&&r.send(t),o&&r.end(o),r},b.post=function(e,t,o){var r=b('POST',e);return'function'==typeof t&&(o=t,t=null),t&&r.send(t),o&&r.end(o),r},b.put=function(e,t,o){var r=b('PUT',e);return'function'==typeof t&&(o=t,t=null),t&&r.send(t),o&&r.end(o),r}},function(e){'use strict';e.exports=function(e){return null!==e&&'object'==typeof e}},function(e,t,o){const r=o(24),n=o(21),a=o(47),s=o(48),p='https://floating-inlet-78791.herokuapp.com';e.exports=class{constructor(e,t){this.appId=e,this.userIdentity=t,this.io=r(p,{query:{appId:this.appId,identity:this.userIdentity}}),this.io.on('connect',()=>{console.log('connected succesfully'),this.onReadyCallback()}),this.io.on('connect_error',()=>console.log('error connecting')),this.io.on('error',(e)=>{console.log('error occured'),console.log(e)})}getUsers(){return n.get(p+'/users').query({appId:this.appId,identity:this.userIdentity}).then((e)=>e.body,()=>{throw new Error('error getting users')})}getGroups(){return n.get(p+'/groups').query({appId:this.appId}).then((e)=>e.body,()=>{throw new Error('error getting groups')})}connectWithUser(e,t,o){console.log('calling connectWithUser');let r=`connect-with-user-${this.appId}-${this.io.id}`,n=`connect-with-user-${this.appId}-${this.io.id}-${e}-error`,s=`connected-with-user-${this.appId}-${this.io.id}-${e}`;this.io.emit(r,e),this.io.on(n,o),this.io.on(s,(o)=>{let r=new a(this.io,this.appId,this.userIdentity,e,o);t(r),console.log('connected with user succesfully')})}ready(e){this.onReadyCallback=e}createGroup(e,t,o){this.io.emit(`create-group-${this.io.id}`,{name:e.name,displayName:e.displayName}),this.io.on(`create-group-${e.name}-${this.io.id}-error`,(e)=>o(e)),this.io.on(`create-group-${e.name}-${this.io.id}-success`,()=>{e.owner=this.userIdentity;let o=new s(this.io,this.appId,this.userIdentity,e);t(o)})}joinGroup(e,t,o){this.io.emit(`join-group-${this.io.id}`,e),this.io.on(`join-group-${e}-${this.io.id}-error`,(e)=>o(e)),this.io.on(`join-group-${e}-${this.io.id}-success`,(e)=>{let o=new s(this.io,this.appId,this.userIdentity,e);t(o)})}}},function(e,t,o){function r(e,t){'object'==typeof e&&(t=e,e=void 0),t=t||{};var o,r=n(e),a=r.source,p=r.id,d=r.path,c=i[p]&&d in i[p].nsps,l=t.forceNew||t['force new connection']||!1===t.multiplex||c;return l?o=s(a,t):(!i[p]&&(i[p]=s(a,t)),o=i[p]),r.query&&!t.query&&(t.query=r.query),o.socket(r.path,t)}var n=o(25),a=o(6),s=o(13),p=o(1)('socket.io-client');e.exports=t=r;var i=t.managers={};t.protocol=a.protocol,t.connect=r,t.Manager=o(13),t.Socket=o(18)},function(e,t,o){(function(t){var r=o(9),n=o(1)('socket.io-client:url');e.exports=function(e,o){var n=e;o=o||t.location,null==e&&(e=o.protocol+'//'+o.host),'string'==typeof e&&('/'===e.charAt(0)&&('/'===e.charAt(1)?e=o.protocol+e:e=o.host+e),!/^(https?|wss?):\/\//.test(e)&&('undefined'==typeof o?e='https://'+e:e=o.protocol+'//'+e),n=r(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port='80':/^(http|ws)s$/.test(n.protocol)&&(n.port='443')),n.path=n.path||'/';var a=-1!==n.host.indexOf(':'),s=a?'['+n.host+']':n.host;return n.id=n.protocol+'://'+s+':'+n.port,n.href=n.protocol+'://'+s+(o&&o.port===n.port?'':':'+n.port),n}}).call(t,o(0))},function(e,t,o){(function(e){function r(e,t){if(!e)return e;if(s(e)){var o={_placeholder:!0,num:t.length};return t.push(e),o}if(a(e)){for(var n=Array(e.length),p=0;p<e.length;p++)n[p]=r(e[p],t);return n}if('object'==typeof e&&!(e instanceof Date)){var n={};for(var i in e)n[i]=r(e[i],t);return n}return e}function n(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(a(e))for(var o=0;o<e.length;o++)e[o]=n(e[o],t);else if('object'==typeof e)for(var r in e)e[r]=n(e[r],t);return e}var a=o(11),s=o(12),p=Object.prototype.toString,d='function'==typeof e.Blob||'[object BlobConstructor]'===p.call(e.Blob),c='function'==typeof e.File||'[object FileConstructor]'===p.call(e.File);t.deconstructPacket=function(e){var t=[],o=e.data,n=e;return n.data=r(o,t),n.attachments=t.length,{packet:n,buffers:t}},t.reconstructPacket=function(e,t){return e.data=n(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){function o(e,p,l){if(!e)return e;if(d&&e instanceof Blob||c&&e instanceof File){r++;var u=new FileReader;u.onload=function(){l?l[p]=this.result:n=this.result,--r||t(n)},u.readAsArrayBuffer(e)}else if(a(e))for(var y=0;y<e.length;y++)o(e[y],y,e);else if('object'==typeof e&&!s(e))for(var i in e)o(e[i],i,e)}var r=0,n=e;o(n),r||t(n)}}).call(t,o(0))},function(e,t,o){e.exports=o(28),e.exports.parser=o(3)},function(e,t,o){(function(t){function r(e,o){if(!(this instanceof r))return new r(e,o);o=o||{},e&&'object'==typeof e&&(o=e,e=null),e?(e=c(e),o.hostname=e.host,o.secure='https'===e.protocol||'wss'===e.protocol,o.port=e.port,e.query&&(o.query=e.query)):o.host&&(o.hostname=c(o.host).host),this.secure=null==o.secure?t.location&&'https:'===location.protocol:o.secure,o.hostname&&!o.port&&(o.port=this.secure?'443':'80'),this.agent=o.agent||!1,this.hostname=o.hostname||(t.location?location.hostname:'localhost'),this.port=o.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=o.query||{},'string'==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==o.upgrade,this.path=(o.path||'/engine.io').replace(/\/$/,'')+'/',this.forceJSONP=!!o.forceJSONP,this.jsonp=!1!==o.jsonp,this.forceBase64=!!o.forceBase64,this.enablesXDR=!!o.enablesXDR,this.timestampParam=o.timestampParam||'t',this.timestampRequests=o.timestampRequests,this.transports=o.transports||['polling','websocket'],this.transportOptions=o.transportOptions||{},this.readyState='',this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=o.policyPort||843,this.rememberUpgrade=o.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=o.onlyBinaryUpgrades,this.perMessageDeflate=!1!==o.perMessageDeflate&&(o.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=o.pfx||null,this.key=o.key||null,this.passphrase=o.passphrase||null,this.cert=o.cert||null,this.ca=o.ca||null,this.ciphers=o.ciphers||null,this.rejectUnauthorized=!(o.rejectUnauthorized!==void 0)||o.rejectUnauthorized,this.forceNode=!!o.forceNode;var n='object'==typeof t&&t;n.global===n&&(o.extraHeaders&&0<Object.keys(o.extraHeaders).length&&(this.extraHeaders=o.extraHeaders),o.localAddress&&(this.localAddress=o.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function n(e){var t={};for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}var a=o(14),s=o(2),p=o(1)('engine.io-client:socket'),d=o(17),i=o(3),c=o(9),l=o(4);e.exports=r,r.priorWebsocketSuccess=!1,s(r.prototype),r.protocol=i.protocol,r.Socket=r,r.Transport=o(8),r.transports=o(14),r.parser=o(3),r.prototype.createTransport=function(e){var t=n(this.query);t.EIO=i.protocol,t.transport=e;var o=this.transportOptions[e]||{};this.id&&(t.sid=this.id);var r=new a[e]({query:t,socket:this,agent:o.agent||this.agent,hostname:o.hostname||this.hostname,port:o.port||this.port,secure:o.secure||this.secure,path:o.path||this.path,forceJSONP:o.forceJSONP||this.forceJSONP,jsonp:o.jsonp||this.jsonp,forceBase64:o.forceBase64||this.forceBase64,enablesXDR:o.enablesXDR||this.enablesXDR,timestampRequests:o.timestampRequests||this.timestampRequests,timestampParam:o.timestampParam||this.timestampParam,policyPort:o.policyPort||this.policyPort,pfx:o.pfx||this.pfx,key:o.key||this.key,passphrase:o.passphrase||this.passphrase,cert:o.cert||this.cert,ca:o.ca||this.ca,ciphers:o.ciphers||this.ciphers,rejectUnauthorized:o.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:o.perMessageDeflate||this.perMessageDeflate,extraHeaders:o.extraHeaders||this.extraHeaders,forceNode:o.forceNode||this.forceNode,localAddress:o.localAddress||this.localAddress,requestTimeout:o.requestTimeout||this.requestTimeout,protocols:o.protocols||void 0});return r},r.prototype.open=function(){var e;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&-1!==this.transports.indexOf('websocket'))e='websocket';else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit('error','No transports available')},0)}e=this.transports[0]}this.readyState='opening';try{e=this.createTransport(e)}catch(t){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},r.prototype.setTransport=function(e){var t=this;this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on('drain',function(){t.onDrain()}).on('packet',function(e){t.onPacket(e)}).on('error',function(o){t.onError(o)}).on('close',function(){t.onClose('transport close')})},r.prototype.probe=function(e){function t(){if(l.onlyBinaryUpgrades){var e=!this.supportsBinary&&l.transport.supportsBinary;c=c||e}c||(d.send([{type:'ping',data:'probe'}]),d.once('packet',function(e){if(!c)if('pong'===e.type&&'probe'===e.data){if(l.upgrading=!0,l.emit('upgrading',d),!d)return;r.priorWebsocketSuccess='websocket'===d.name,l.transport.pause(function(){c||'closed'===l.readyState||(i(),l.setTransport(d),d.send([{type:'upgrade'}]),l.emit('upgrade',d),d=null,l.upgrading=!1,l.flush())})}else{var t=new Error('probe error');t.transport=d.name,l.emit('upgradeError',t)}}))}function o(){c||(c=!0,i(),d.close(),d=null)}function n(e){var t=new Error('probe error: '+e);t.transport=d.name,o(),l.emit('upgradeError',t)}function a(){n('transport closed')}function s(){n('socket closed')}function p(e){d&&e.name!==d.name&&o()}function i(){d.removeListener('open',t),d.removeListener('error',n),d.removeListener('close',a),l.removeListener('close',s),l.removeListener('upgrading',p)}var d=this.createTransport(e,{probe:1}),c=!1,l=this;r.priorWebsocketSuccess=!1,d.once('open',t),d.once('error',n),d.once('close',a),this.once('close',s),this.once('upgrading',p),d.open()},r.prototype.onOpen=function(){if(this.readyState='open',r.priorWebsocketSuccess='websocket'===this.transport.name,this.emit('open'),this.flush(),'open'===this.readyState&&this.upgrade&&this.transport.pause)for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])},r.prototype.onPacket=function(e){if('opening'===this.readyState||'open'===this.readyState||'closing'===this.readyState)switch(this.emit('packet',e),this.emit('heartbeat'),e.type){case'open':this.onHandshake(JSON.parse(e.data));break;case'pong':this.setPing(),this.emit('pong');break;case'error':var t=new Error('server error');t.code=e.data,this.onError(t);break;case'message':this.emit('data',e.data),this.emit('message',e.data);}else;},r.prototype.onHandshake=function(e){this.emit('handshake',e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen();'closed'===this.readyState||(this.setPing(),this.removeListener('heartbeat',this.onHeartbeat),this.on('heartbeat',this.onHeartbeat))},r.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){'closed'===t.readyState||t.onClose('ping timeout')},e||t.pingInterval+t.pingTimeout)},r.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},r.prototype.ping=function(){var e=this;this.sendPacket('ping',function(){e.emit('ping')})},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit('drain'):this.flush()},r.prototype.flush=function(){'closed'!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit('flush'))},r.prototype.write=r.prototype.send=function(e,t,o){return this.sendPacket('message',e,t,o),this},r.prototype.sendPacket=function(e,t,o,r){if('function'==typeof t&&(r=t,t=void 0),'function'==typeof o&&(r=o,o=null),'closing'!==this.readyState&&'closed'!==this.readyState){o=o||{},o.compress=!1!==o.compress;var n={type:e,data:t,options:o};this.emit('packetCreate',n),this.writeBuffer.push(n),r&&this.once('flush',r),this.flush()}},r.prototype.close=function(){function e(){r.onClose('forced close'),r.transport.close()}function t(){r.removeListener('upgrade',t),r.removeListener('upgradeError',t),e()}function o(){r.once('upgrade',t),r.once('upgradeError',t)}if('opening'===this.readyState||'open'===this.readyState){this.readyState='closing';var r=this;this.writeBuffer.length?this.once('drain',function(){this.upgrading?o():e()}):this.upgrading?o():e()}return this},r.prototype.onError=function(e){r.priorWebsocketSuccess=!1,this.emit('error',e),this.onClose('transport error',e)},r.prototype.onClose=function(e,t){if('opening'===this.readyState||'open'===this.readyState||'closing'===this.readyState){var o=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners('close'),this.transport.close(),this.transport.removeAllListeners(),this.readyState='closed',this.id=null,this.emit('close',e,t),o.writeBuffer=[],o.prevBufferLen=0}},r.prototype.filterUpgrades=function(e){for(var t=[],o=0,r=e.length;o<r;o++)~d(this.transports,e[o])&&t.push(e[o]);return t}}).call(t,o(0))},function(e){try{e.exports='undefined'!=typeof XMLHttpRequest&&'withCredentials'in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,o){(function(t){function r(){}function n(e){if(i.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,t.location){var o='https:'===location.protocol,r=location.port;r||(r=o?443:80),this.xd=e.hostname!==t.location.hostname||r!==e.port,this.xs=e.secure!==o}}function a(e){this.method=e.method||'GET',this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0===e.data?null:e.data,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function s(){for(var e in a.requests)a.requests.hasOwnProperty(e)&&a.requests[e].abort()}var p=o(7),i=o(15),d=o(2),c=o(5),l=o(1)('engine.io-client:polling-xhr');e.exports=n,e.exports.Request=a,c(n,i),n.prototype.supportsBinary=!0,n.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new a(e)},n.prototype.doWrite=function(e,t){var o=this.request({method:'POST',data:e,isBinary:'string'!=typeof e&&e!==void 0}),r=this;o.on('success',t),o.on('error',function(e){r.onError('xhr post error',e)}),this.sendXhr=o},n.prototype.doPoll=function(){var e=this.request(),t=this;e.on('data',function(e){t.onData(e)}),e.on('error',function(e){t.onError('xhr poll error',e)}),this.pollXhr=e},d(a.prototype),a.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized},o=this.xhr=new p(e),r=this;try{o.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var n in o.setDisableHeaderCheck&&o.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(n)&&o.setRequestHeader(n,this.extraHeaders[n])}catch(t){}if('POST'===this.method)try{this.isBinary?o.setRequestHeader('Content-type','application/octet-stream'):o.setRequestHeader('Content-type','text/plain;charset=UTF-8')}catch(t){}try{o.setRequestHeader('Accept','*/*')}catch(t){}'withCredentials'in o&&(o.withCredentials=!0),this.requestTimeout&&(o.timeout=this.requestTimeout),this.hasXDR()?(o.onload=function(){r.onLoad()},o.onerror=function(){r.onError(o.responseText)}):o.onreadystatechange=function(){if(2===o.readyState){var e;try{e=o.getResponseHeader('Content-Type')}catch(t){}'application/octet-stream'===e&&(o.responseType='arraybuffer')}4!==o.readyState||(200===o.status||1223===o.status?r.onLoad():setTimeout(function(){r.onError(o.status)},0))},o.send(this.data)}catch(t){return void setTimeout(function(){r.onError(t)},0)}t.document&&(this.index=a.requestsCount++,a.requests[this.index]=this)},a.prototype.onSuccess=function(){this.emit('success'),this.cleanup()},a.prototype.onData=function(e){this.emit('data',e),this.onSuccess()},a.prototype.onError=function(e){this.emit('error',e),this.cleanup(!0)},a.prototype.cleanup=function(e){if('undefined'!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,e)try{this.xhr.abort()}catch(t){}t.document&&delete a.requests[this.index],this.xhr=null}},a.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader('Content-Type')}catch(t){}e='application/octet-stream'===t?this.xhr.response||this.xhr.responseText:this.xhr.responseText}catch(t){this.onError(t)}null!=e&&this.onData(e)},a.prototype.hasXDR=function(){return'undefined'!=typeof t.XDomainRequest&&!this.xs&&this.enablesXDR},a.prototype.abort=function(){this.cleanup()},a.requestsCount=0,a.requests={},t.document&&(t.attachEvent?t.attachEvent('onunload',s):t.addEventListener&&t.addEventListener('beforeunload',s,!1))}).call(t,o(0))},function(e){e.exports=Object.keys||function(e){var t=[],o=Object.prototype.hasOwnProperty;for(var r in e)o.call(e,r)&&t.push(r);return t}},function(e){e.exports=function(e,t,o){var r=e.byteLength;if(t=t||0,o=o||r,e.slice)return e.slice(t,o);if(0>t&&(t+=r),0>o&&(o+=r),o>r&&(o=r),t>=r||t>=o||0===r)return new ArrayBuffer(0);for(var n=new Uint8Array(e),a=new Uint8Array(o-t),s=t,p=0;s<o;s++,p++)a[p]=n[s];return a.buffer}},function(e){function t(){}e.exports=function(e,o,r){function n(e,t){if(0>=n.count)throw new Error('after called too many times');--n.count,e?(a=!0,o(e),o=r):0===n.count&&!a&&o(null,t)}var a=!1;return r=r||t,n.count=e,0===e?o():n}},function(e,o,r){(function(e,n){var a;/*! https://mths.be/utf8js v2.1.2 by @mathias */(function(s){function p(e){for(var t,o,r=[],n=0,a=e.length;n<a;)t=e.charCodeAt(n++),55296<=t&&56319>=t&&n<a?(o=e.charCodeAt(n++),56320==(64512&o)?r.push(((1023&t)<<10)+(1023&o)+65536):(r.push(t),n--)):r.push(t);return r}function i(e){for(var t,o=e.length,r=-1,n='';++r<o;)t=e[r],65535<t&&(t-=65536,n+=k(55296|1023&t>>>10),t=56320|1023&t),n+=k(t);return n}function d(e,t){if(55296<=e&&57343>=e){if(t)throw Error('Lone surrogate U+'+e.toString(16).toUpperCase()+' is not a scalar value');return!1}return!0}function c(e,t){return k(128|63&e>>t)}function l(e,t){if(0==(4294967168&e))return k(e);var o='';return 0==(4294965248&e)?o=k(192|31&e>>6):0==(4294901760&e)?(!d(e,t)&&(e=65533),o=k(224|15&e>>12),o+=c(e,6)):0==(4292870144&e)&&(o=k(240|7&e>>18),o+=c(e,12),o+=c(e,6)),o+=k(128|63&e),o}function u(){if(b>=g)throw Error('Invalid byte index');var e=255&m[b];if(b++,128==(192&e))return 63&e;throw Error('Invalid continuation byte')}function y(e){var t,o,r,n,a;if(b>g)throw Error('Invalid byte index');if(b==g)return!1;if(t=255&m[b],b++,0==(128&t))return t;if(192==(224&t)){if(o=u(),a=(31&t)<<6|o,128<=a)return a;throw Error('Invalid continuation byte')}if(224==(240&t)){if(o=u(),r=u(),a=(15&t)<<12|o<<6|r,2048<=a)return d(a,e)?a:65533;throw Error('Invalid continuation byte')}if(240==(248&t)&&(o=u(),r=u(),n=u(),a=(7&t)<<18|o<<12|r<<6|n,65536<=a&&1114111>=a))return a;throw Error('Invalid UTF-8 detected')}var f='object'==typeof e&&e&&e.exports==('object'==typeof o&&o)&&e,h='object'==typeof n&&n;(h.global===h||h.window===h)&&(s=h);var m,g,b,k=t,x={version:'2.1.2',encode:function(e,t){t=t||{};for(var o,r=!1!==t.strict,n=p(e),a=n.length,s=-1,i='';++s<a;)o=n[s],i+=l(o,r);return i},decode:function(e,t){t=t||{};var o=!1!==t.strict;m=p(e),g=m.length,b=0;for(var r,n=[];!1!==(r=y(o));)n.push(r);return i(n)}};a=function(){return x}.call(o,r,o,e),!(void 0!==a&&(e.exports=a))})(this)}).call(o,r(35)(e),r(0))},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],!e.children&&(e.children=[]),Object.defineProperty(e,'loaded',{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,'id',{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){(function(){'use strict';for(var e='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',o=new Uint8Array(256),r=0;r<e.length;r++)o[e.charCodeAt(r)]=r;t.encode=function(t){var o,r=new Uint8Array(t),n=r.length,a='';for(o=0;o<n;o+=3)a+=e[r[o]>>2],a+=e[(3&r[o])<<4|r[o+1]>>4],a+=e[(15&r[o+1])<<2|r[o+2]>>6],a+=e[63&r[o+2]];return 2==n%3?a=a.substring(0,a.length-1)+'=':1==n%3&&(a=a.substring(0,a.length-2)+'=='),a},t.decode=function(e){var t,r,n,a,s,i=0.75*e.length,d=e.length,c=0;'='===e[e.length-1]&&(i--,'='===e[e.length-2]&&i--);var p=new ArrayBuffer(i),l=new Uint8Array(p);for(t=0;t<d;t+=4)r=o[e.charCodeAt(t)],n=o[e.charCodeAt(t+1)],a=o[e.charCodeAt(t+2)],s=o[e.charCodeAt(t+3)],l[c++]=r<<2|n>>4,l[c++]=(15&n)<<4|a>>2,l[c++]=(3&a)<<6|63&s;return p}})()},function(e,t,o){(function(t){function o(e){for(var t,o=0;o<e.length;o++)if(t=e[o],t.buffer instanceof ArrayBuffer){var r=t.buffer;if(t.byteLength!==r.byteLength){var n=new Uint8Array(t.byteLength);n.set(new Uint8Array(r,t.byteOffset,t.byteLength)),r=n.buffer}e[o]=r}}function r(e,t){t=t||{};var r=new a;o(e);for(var n=0;n<e.length;n++)r.append(e[n]);return t.type?r.getBlob(t.type):r.getBlob()}function n(e,t){return o(e),new Blob(e,t||{})}var a=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,s=function(){try{var e=new Blob(['hi']);return 2===e.size}catch(t){return!1}}(),p=s&&function(){try{var e=new Blob([new Uint8Array([1,2])]);return 2===e.size}catch(t){return!1}}(),i=a&&a.prototype.append&&a.prototype.getBlob;e.exports=function(){return s?p?t.Blob:n:i?r:void 0}()}).call(t,o(0))},function(e,t,o){(function(t){function r(){}function n(e){a.call(this,e),this.query=this.query||{},p||(!t.___eio&&(t.___eio=[]),p=t.___eio),this.index=p.length;var o=this;p.push(function(e){o.onData(e)}),this.query.j=this.index,t.document&&t.addEventListener&&t.addEventListener('beforeunload',function(){o.script&&(o.script.onerror=r)},!1)}var a=o(15),s=o(5);e.exports=n;var p,i=/\n/g,d=/\\n/g;s(n,a),n.prototype.supportsBinary=!1,n.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),a.prototype.doClose.call(this)},n.prototype.doPoll=function(){var t=this,e=document.createElement('script');this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(o){t.onError('jsonp poll error',o)};var o=document.getElementsByTagName('script')[0];o?o.parentNode.insertBefore(e,o):(document.head||document.body).appendChild(e),this.script=e;var r='undefined'!=typeof navigator&&/gecko/i.test(navigator.userAgent);r&&setTimeout(function(){var e=document.createElement('iframe');document.body.appendChild(e),document.body.removeChild(e)},100)},n.prototype.doWrite=function(e,t){function o(){r(),t()}function r(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError('jsonp polling iframe removal error',t)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';a=document.createElement(e)}catch(t){a=document.createElement('iframe'),a.name=n.iframeId,a.src='javascript:0'}a.id=n.iframeId,n.form.appendChild(a),n.iframe=a}var n=this;if(!this.form){var a,s=document.createElement('form'),p=document.createElement('textarea'),c=this.iframeId='eio_iframe_'+this.index;s.className='socketio',s.style.position='absolute',s.style.top='-1000px',s.style.left='-1000px',s.target=c,s.method='POST',s.setAttribute('accept-charset','utf-8'),p.name='d',s.appendChild(p),document.body.appendChild(s),this.form=s,this.area=p}this.form.action=this.uri(),r(),e=e.replace(d,'\\\n'),this.area.value=e.replace(i,'\\n');try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){'complete'===n.iframe.readyState&&o()}:this.iframe.onload=o}}).call(t,o(0))},function(e,t,o){(function(t){function r(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=l&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(u=n),a.call(this,e)}var n,a=o(8),s=o(3),p=o(4),i=o(5),d=o(16),c=o(1)('engine.io-client:websocket'),l=t.WebSocket||t.MozWebSocket;if('undefined'==typeof window)try{n=o(40)}catch(t){}var u=l;u||'undefined'!=typeof window||(u=n),e.exports=r,i(r,a),r.prototype.name='websocket',r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,o={agent:this.agent,perMessageDeflate:this.perMessageDeflate};o.pfx=this.pfx,o.key=this.key,o.passphrase=this.passphrase,o.cert=this.cert,o.ca=this.ca,o.ciphers=this.ciphers,o.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(o.headers=this.extraHeaders),this.localAddress&&(o.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?t?new u(e,t):new u(e):new u(e,t,o)}catch(e){return this.emit('error',e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType='nodebuffer'):this.ws.binaryType='arraybuffer',this.addEventListeners()}},r.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(o){t.onError('websocket error',o)}},r.prototype.write=function(e){function o(){r.emit('flush'),setTimeout(function(){r.writable=!0,r.emit('drain')},0)}var r=this;this.writable=!1;for(var n=e.length,a=0,p=n;a<p;a++)(function(e){s.encodePacket(e,r.supportsBinary,function(a){if(!r.usingBrowserWebSocket){var s={};if(e.options&&(s.compress=e.options.compress),r.perMessageDeflate){var p='string'==typeof a?t.Buffer.byteLength(a):a.length;p<r.perMessageDeflate.threshold&&(s.compress=!1)}}try{r.usingBrowserWebSocket?r.ws.send(a):r.ws.send(a,s)}catch(t){}--n||o()})})(e[a])},r.prototype.onClose=function(){a.prototype.onClose.call(this)},r.prototype.doClose=function(){'undefined'!=typeof this.ws&&this.ws.close()},r.prototype.uri=function(){var e=this.query||{},t=this.secure?'wss':'ws',o='';this.port&&('wss'==t&&443!==+this.port||'ws'==t&&80!==+this.port)&&(o=':'+this.port),this.timestampRequests&&(e[this.timestampParam]=d()),this.supportsBinary||(e.b64=1),e=p.encode(e),e.length&&(e='?'+e);var r=-1!==this.hostname.indexOf(':');return t+'://'+(r?'['+this.hostname+']':this.hostname)+o+this.path+e},r.prototype.check=function(){return!!u&&!('__initialize'in u&&this.name===r.prototype.name)}}).call(t,o(0))},function(){},function(e){e.exports=function(e,t){var o=[];t=t||0;for(var r=t||0;r<e.length;r++)o[r-t]=e[r];return o}},function(t){function o(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=0<e.jitter&&1>=e.jitter?e.jitter:0,this.attempts=0}t.exports=o,o.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var o=Math.random(),r=e(o*this.jitter*t);t=0==(1&e(10*o))?t-r:t+r}return 0|Math.min(t,this.max)},o.prototype.reset=function(){this.attempts=0},o.prototype.setMin=function(e){this.ms=e},o.prototype.setMax=function(e){this.max=e},o.prototype.setJitter=function(e){this.jitter=e}},function(e,t,o){'use strict';function r(e){if(e)return n(e)}function n(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}var a=o(22);e.exports=r,r.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},r.prototype.parse=function(e){return this._parser=e,this},r.prototype.responseType=function(e){return this._responseType=e,this},r.prototype.serialize=function(e){return this._serializer=e,this},r.prototype.timeout=function(e){if(!e||'object'!=typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var t in e)'deadline'===t?this._timeout=e.deadline:'response'===t?this._responseTimeout=e.response:console.warn('Unknown timeout option',t);return this},r.prototype.retry=function(e,t){return(0===arguments.length||!0===e)&&(e=1),0>=e&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var s=['ECONNRESET','ETIMEDOUT','EADDRINFO','ESOCKETTIMEDOUT'];r.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var o=this._retryCallback(e,t);if(!0===o)return!0;if(!1===o)return!1}catch(t){console.error(t)}if(t&&t.status&&500<=t.status&&501!=t.status)return!0;if(e){if(e.code&&~s.indexOf(e.code))return!0;if(e.timeout&&'ECONNABORTED'==e.code)return!0;if(e.crossDomain)return!0}return!1},r.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},r.prototype.then=function(e,t){if(!this._fullfilledPromise){var o=this;this._endCalled&&console.warn('Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises'),this._fullfilledPromise=new Promise(function(e,t){o.end(function(o,r){o?t(o):e(r)})})}return this._fullfilledPromise.then(e,t)},r.prototype.catch=function(e){return this.then(void 0,e)},r.prototype.use=function(e){return e(this),this},r.prototype.ok=function(e){if('function'!=typeof e)throw Error('Callback required');return this._okCallback=e,this},r.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):200<=e.status&&300>e.status)},r.prototype.get=function(e){return this._header[e.toLowerCase()]},r.prototype.getHeader=r.prototype.get,r.prototype.set=function(e,t){if(a(e)){for(var o in e)this.set(o,e[o]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},r.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},r.prototype.field=function(e,t){if(null===e||void 0===e)throw new Error('.field(name, val) name can not be empty');if(this._data&&console.error('.field() can\'t be used if .send() is used. Please use only .send() or only .field() & .attach()'),a(e)){for(var o in e)this.field(o,e[o]);return this}if(Array.isArray(t)){for(var r in t)this.field(e,t[r]);return this}if(null===t||void 0===t)throw new Error('.field(name, val) val can not be empty');return'boolean'==typeof t&&(t=''+t),this._getFormData().append(e,t),this},r.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit('abort'),this)},r.prototype._auth=function(e,t,o,r){switch(o.type){case'basic':this.set('Authorization','Basic '+r(e+':'+t));break;case'auto':this.username=e,this.password=t;break;case'bearer':this.set('Authorization','Bearer '+e);}return this},r.prototype.withCredentials=function(e){return void 0==e&&(e=!0),this._withCredentials=e,this},r.prototype.redirects=function(e){return this._maxRedirects=e,this},r.prototype.maxResponseSize=function(e){if('number'!=typeof e)throw TypeError('Invalid argument');return this._maxResponseSize=e,this},r.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},r.prototype.send=function(e){var t=a(e),o=this._header['content-type'];if(this._formData&&console.error('.send() can\'t be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()'),t&&!this._data)Array.isArray(e)?this._data=[]:!this._isHost(e)&&(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error('Can\'t merge these send calls');if(t&&a(this._data))for(var r in e)this._data[r]=e[r];else'string'==typeof e?(o||this.type('form'),o=this._header['content-type'],this._data='application/x-www-form-urlencoded'==o?this._data?this._data+'&'+e:e:(this._data||'')+e):this._data=e;return!t||this._isHost(e)?this:(o||this.type('json'),this)},r.prototype.sortQuery=function(e){return this._sort='undefined'==typeof e||e,this},r.prototype._finalizeQueryString=function(){var e=this._query.join('&');if(e&&(this.url+=(0<=this.url.indexOf('?')?'&':'?')+e),this._query.length=0,this._sort){var t=this.url.indexOf('?');if(0<=t){var o=this.url.substring(t+1).split('&');'function'==typeof this._sort?o.sort(this._sort):o.sort(),this.url=this.url.substring(0,t)+'?'+o.join('&')}}},r.prototype._appendQueryString=function(){console.trace('Unsupported')},r.prototype._timeoutError=function(e,t,o){if(!this._aborted){var r=new Error(e+t+'ms exceeded');r.timeout=t,r.code='ECONNABORTED',r.errno=o,this.timedout=!0,this.abort(),this.callback(r)}},r.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError('Timeout of ',e._timeout,'ETIME')},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError('Response timeout of ',e._responseTimeout,'ETIMEDOUT')},this._responseTimeout))}},function(e,t,o){'use strict';function r(e){if(e)return n(e)}function n(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}var a=o(45);e.exports=r,r.prototype.get=function(e){return this.header[e.toLowerCase()]},r.prototype._setHeaderProperties=function(e){var t=e['content-type']||'';this.type=a.type(t);var o=a.params(t);for(var r in o)this[r]=o[r];this.links={};try{e.link&&(this.links=a.parseLinks(e.link))}catch(e){}},r.prototype._setStatusProperties=function(e){var t=0|e/100;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e}},function(e,t){'use strict';t.type=function(e){return e.split(/ *; */).shift()},t.params=function(e){return e.split(/ *; */).reduce(function(e,t){var o=t.split(/ *= */),r=o.shift(),n=o.shift();return r&&n&&(e[r]=n),e},{})},t.parseLinks=function(e){return e.split(/ *, */).reduce(function(e,t){var o=t.split(/ *; */),r=o[0].slice(1,-1),n=o[1].split(/ *= */)[1].slice(1,-1);return e[n]=r,e},{})},t.cleanHeader=function(e,t){return delete e['content-type'],delete e['content-length'],delete e['transfer-encoding'],delete e.host,t&&delete e.cookie,e}},function(e){function t(){this._defaults=[]}['use','on','once','set','query','type','accept','auth','withCredentials','sortQuery','retry','ok','redirects','timeout','buffer','serialize','parse','ca','key','pfx','cert'].forEach(function(e){t.prototype[e]=function(){return this._defaults.push({fn:e,arguments:arguments}),this}}),t.prototype._setDefaults=function(e){this._defaults.forEach(function(t){e[t.fn].apply(e,t.arguments)})},e.exports=t},function(e){e.exports=class{constructor(e,t,o,r,n){this.io=e,this.appId=t,this.userIdentity=o,this.friendIdentity=r,this.connectionId=n}onNewMessage(e){e&&this.io.on(`${this.connectionId}-message-added`,(t)=>e(t))}send(e){this.io.emit(`${this.connectionId}-new-message`,e)}}},function(e,t,o){const r=o(21);e.exports=class{constructor(e,t,o,r){this.io=e,this.appId=t,this.userIdentity=o,this.groupInfo=r}onNewMessage(e){e&&this.io.on(`new-group-message-${this.groupInfo.name}`,(t)=>e(t))}onNewMember(e){e&&this.io.on(`new-group-member-${this.groupInfo.name}`,(t)=>e(t))}send(e){this.io.emit(`send-group-message`,{message:e,user:this.userIdentity,group:this.groupInfo.name})}getMembers(){return r.get('https://floating-inlet-78791.herokuapp.com'+`/group/${this.groupInfo.name}/members`).query({appId:this.appId}).then((e)=>e.body,()=>{throw new Error('error getting members')})}}}])});